layui.define(["yunj"],function(e){class i{constructor(e){this.rawArgs=e;this.filename="";this.time=null;this.id="";this.fileDownloadItemsEl=null;this.elem=null;this.progressNum=0;this.init()}init(){let e=this;e.setData();e.setElem()}setData(){let e=this;e.filename=e.rawArgs.filename;e.time=e.rawArgs.time;e.id=yunj.md5(e.time+e.filename);e.fileDownloadItemsEl=top.yunj.page.fileDownloadEl.find(".items-box")}setElem(){let e=this;let i=`<div class="item" id="${e.id}">
                            <div class="top">
                                <div class="item-desc">
                                    <span class="time">${e.time}</span>
                                    <span class="name">${e.filename}</span>
                                </div>
                                <div class="item-action">
                                    <i class="yunj-icon yunj-icon-remove remove" title="取消"></i>
                                </div>
                            </div>
                            <div class="bottom">
                                <div class="layui-progress layui-progress-big" lay-showpercent="true" lay-filter="${e.id}">
                                    <div class="layui-progress-bar" lay-percent="0%"></div>
                                </div>
                            </div>
                        </div>`;e.fileDownloadItemsEl.append(i);e.elem=e.fileDownloadItemsEl.find(`#${e.id}`)}setProgress(e){let i=this;if(e<=0){e=0}if(e>=100){e=100}i.progressNum=e;let s=e+"%";top.layui.element.progress(i.id,s)}}let s=(e={})=>{e=yunj.objSupp(e,{filename:"",time:""});return new i(e)};e("fileDownloadProgress",s)});