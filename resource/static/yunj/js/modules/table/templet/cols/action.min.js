layui.define(["TableColTemplet","ydropdown","laytpl"],function(t){let e=layui.TableColTemplet;let l=layui.laytpl;class i extends e{constructor(t){super(t)}layout(){let t=this;let e=t.args.options;if(e.length<=0)return"";let l=JSON.stringify(e).replace("{{","{ {").replace("}}","} }");return`{{# 
                        let rawOptions = ${l};
                        let options = {};
                        let fieldKey = '${t.key}';
                        if(d.hasOwnProperty(fieldKey)){
                            let val = d[fieldKey];
                            if(yunj.isArray(val)&&val.length>0){
                                for(let i = 0;i<val.length;i++){
                                    let k = val[i];
                                    if(rawOptions.hasOwnProperty(k)) options[k] = rawOptions[k];
                                }
                            }
                        }else{
                            options = rawOptions;
                        }
                        let templet = '';
                        let buildTable = window.yunj.table['${t.tableId}'].getCurrBuildTable();
                        let itemTemplet = '';
                        let dropdownTemplet = '';
                        let isMobile = yunj.isMobile();
                        for(let k in options){
                            let option = Object.assign({},{
                                'type':'',
                                'title':'',
                                'class':'',
                                'url':'',
                                'confirmText':'',
                                'dropdown':false,
                                'show':true
                            },options[k]);
                            let show = option.show;
                            if(show && yunj.isString(show)){
                                show = eval(show);
                            }
                            if(!show) {
                                continue;
                            }
                            let layEvent = buildTable.generateLayEvent(buildTable.layEventLocation.action,k,option);
                            !isMobile&&!option.dropdown
                                ?(itemTemplet += '<button type="button" class="layui-btn layui-btn-xs layui-btn-primary '+yunj.iconClass(option.class)+'" lay-event="'+layEvent+'">'+option.title+'</button>')
                                :(dropdownTemplet += '<dd class="'+yunj.iconClass(option.class)+'" lay-event="'+layEvent+'">'+option.title+'</dd>');
                        }
                        if (itemTemplet) templet += '<div class="layui-btn-group" style="margin-right: 10px">'+itemTemplet+'</div>';
                        if (dropdownTemplet) templet += yunj.dropdown.layout(dropdownTemplet);
                    }}
                    <div class="layui-btn-container" yunj-id="${t.tableId}">{{- templet }}</div>`}}t("TableColAction",i)});