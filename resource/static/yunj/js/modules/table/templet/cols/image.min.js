layui.define(["TableColTemplet","jquery","yunj"],function(r){let e=layui.TableColTemplet;let t=window;let i=document;let l=layui.jquery;class n extends e{constructor(r){super(r)}layout(){let r=this;return`{{# 
                         let srcArr = d.${r.key};
                         if(yunj.isString(srcArr)&&srcArr.length>0) 
                            srcArr = yunj.isJson(srcArr)?JSON.parse(srcArr):(srcArr.indexOf(",")!==-1?srcArr.split(","):[srcArr]);
                         if(!yunj.isArray(srcArr)) srcArr = [];
                         let imgOnrrror = yunj.defaultImageAttrOnerror();
                     }}
                    {{#  if(d.is_export){  }}
                            {{srcArr.join(',')}}
                    {{#  }else{  }}
                            {{# for(let i = 0,l = srcArr.length;i < l;i++){ }}
                                <img class="table-row-image-item" src="{{ srcArr[i] }}" alt="" title="点击预览" {{- imgOnrrror }}>
                            {{# } }}
                    {{#  }  }}`}defineExtraEventBind(){let r=this;if(yunj.isUndefined(t.TABLE_ROW_IMAGE_ITEM_CLICK_PREVIEW_EVENT_BIND)){t.TABLE_ROW_IMAGE_ITEM_CLICK_PREVIEW_EVENT_BIND=true;l(i).on("click",".table-row-image-item",function(r){let e=l(this);let t=[];e.parent().find(".table-row-image-item").each(function(){t.push(l(this).attr("src"))});if(t.length<=0)return false;let i=t.indexOf(e.attr("src"));if(i===-1)i=0;yunj.previewImg(t,i);r.stopPropagation()})}}}r("TableColImage",n)});