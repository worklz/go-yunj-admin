layui.define(["TableColTemplet","jquery","yunj"],function(l){let e=layui.TableColTemplet;let t=window;let i=document;let u=layui.jquery;class r extends e{constructor(l){super(l)}layout(){let l=this;return`{{# 
                         let urls = d.${l.key};
                         if(yunj.isString(urls)&&urls.length>0) 
                            urls = yunj.isJson(urls)?JSON.parse(urls):(urls.indexOf(",")!==-1?urls.split(","):[urls]);
                         if(!yunj.isArray(urls)) urls = [];
                    }}
                    {{#  if(d.is_export){  }}
                            {{urls.join(',')}}
                    {{#  }else{  }}
                            {{#  for(let i=0,l=urls.length;i<l;i++){  }}
                                    {{#  let url=urls[i];  }}
                                    {{#  let text=yunj.urlFileName(url);  }}
                                    <a class="table-row-file-item" href="javascript:void(0);" title="点击下载" data-url="{{ url }}">{{ text }}</a>
                            {{#  }  }}
                    {{#  }  }}`}defineExtraEventBind(){let l=this;if(yunj.isUndefined(t.TABLE_ROW_FILE_ITEM_CLICK_DOWNLOAD_EVENT_BIND)){t.TABLE_ROW_FILE_ITEM_CLICK_DOWNLOAD_EVENT_BIND=true;u(i).on("click",".table-row-file-item",function(l){let e=u(this);let t=e.data("url");if(t.length>0){let l=yunj.urlFileName(t);yunj.confirm(`确认下载文件：${l}？`,()=>{yunj.download(t)})}l.stopPropagation()})}}}l("TableColFile",r)});