layui.define(["TableColTemplet","jquery","yunj"],function(t){let i=layui.TableColTemplet;let r=window;let a=document;let n=layui.jquery;class o extends i{constructor(t){super(t);this.areaOptions=null;this.acc="district"}async renderBefore(){let i=this;await new Promise(e=>{yunj.area_options().then(t=>{i.areaOptions=t;e("done")})});i.acc=i.args.acc;return"done"}layout(){let t=this;return`{{# 
                        let options = JSON.parse('${JSON.stringify(t.areaOptions)}');
                        let acc = '${t.acc}';
                        let area = d.${t.key};
                        area = typeof area==='object'?area:{};
                        let province = '';
                        if(area.hasOwnProperty('province')&&area.province.toString().length>0){
                            let provinceOptions=options[0];
                            province = provinceOptions.hasOwnProperty(area.province)?provinceOptions[area.province]:'';
                        }
                        
                        let city='';
                        if(area.hasOwnProperty('city')&&area.city.toString().length>0&&province.length>0&&options.hasOwnProperty('0,'+area.province)){
                            let cityOptions=options['0,'+area.province];
                            city = cityOptions.hasOwnProperty(area.city)?cityOptions[area.city]:'';
                        }
                        
                        let district='';
                        if(area.hasOwnProperty('district')&&area.district.toString().length>0&&city.length>0&&options.hasOwnProperty('0,'+area.province+','+area.city)){
                            let districtOptions=options['0,'+area.province+','+area.city];
                            district = districtOptions.hasOwnProperty(area.district)?districtOptions[area.district]:'';
                        }
                        
                        let text = '';
                        switch(acc){
                            case 'province':
                                text=province;
                                break;
                            case 'city':
                                text=province+(city.length>0?' / '+city:'');
                                break;
                            case 'district':
                                text=province+(city.length>0?' / '+city:'')+(district.length>0?' / '+district:'');
                                break;
                        }
                     }}
                     <div class="table-row-area" title="复制地区:{{ text }}">{{ text }}</div>`}defineExtraEventBind(){let t=this;if(yunj.isUndefined(r.TABLE_ROW_AREA_CLICK_COPY_EVENT_BIND)){r.TABLE_ROW_AREA_CLICK_COPY_EVENT_BIND=true;n(a).on("click",".table-row-area",function(){yunj.copy(n(this).html());e.stopPropagation()})}}}t("TableColArea",o)});