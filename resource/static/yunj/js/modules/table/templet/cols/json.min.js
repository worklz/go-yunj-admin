layui.define(["TableColTemplet","jquery","yunj"],function(e){let l=layui.TableColTemplet;let n=window;let t=document;let a=layui.jquery;class s extends l{constructor(e){super(e)}layout(){let e=this;return`{{# 
                        let val = d.${e.key};
                        if(yunj.isObj(val) || yunj.isArray(val) ){
                            val = JSON.stringify(val);
                        }
                        if(val === '[]' || val === '{}'){
                            val = '';
                        }
                     }}
                    {{#  if(d.is_export || !val || !yunj.isJson(val)){  }}
                        {{val}}
                    {{#  }else{  }}
                        <div class="table-row-json">
                            <span class="txt">{{val}}</span>
                            <span class="layui-badge layui-bg-blue btn-json-view" data-json='{{val}}' title="查看">查看</span>
                        </div>
                    {{#  }  }}`}defineExtraEventBind(){let e=this;if(yunj.isUndefined(n.TABLE_ROW_JSON_CLICK_VIEW_EVENT_BIND)){n.TABLE_ROW_JSON_CLICK_VIEW_EVENT_BIND=true;a(t).on("click",".table-row-json .btn-json-view",function(e){let l=a(this).data("json");let n=JSON.stringify(l);l=JSON.stringify(l,null,4);yunj.open({title:false,content:`<pre>${l}</pre>`,shadeClose:true,btn:["复制"],yes:function(e,l){yunj.copy(n);return false}});e.stopPropagation()})}}}e("TableColJson",s)});