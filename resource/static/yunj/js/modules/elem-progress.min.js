layui.define(["jquery","yunj"],function(r){let e=layui.jquery;class s{constructor(r){this.version="1.0.0";this.raw_args=r;this.elem=null;this.rand_progress=true;this.rand_progress_timer_rate=1e3;this.rand_progress_timer=null;this.progress_num=0;this.progress_el=null;this.init()}init(){let r=this;r.set_data();r.render()}set_data(){let r=this;r.elem=yunj.isString(r.raw_args.elem)?e(r.raw_args.elem):r.raw_args.elem;r.rand_progress=r.raw_args.rand_progress;r.rand_progress_timer_rate=r.raw_args.rand_progress_timer_rate}render(){let e=this;if(e.elem.find(".yunj-elem-progress").length<=0){let r=`<div class="layui-progress yunj-elem-progress">
                                        <div class="layui-progress-bar yunj-elem-progress-bar" style="width:0%;"></div>
                                    </div>`;e.elem.prepend(r)}e.progress_el=e.elem.find(".yunj-elem-progress");e.rand_progress&&e.set_rand_progress()}set_rand_progress(){let e=this;e.rand_progress_timer=setInterval(function(){let r=e.progress_num+Math.random()*10|0;r=r>99?99:r;e.reset_progress(r)},300+Math.random()*e.rand_progress_timer_rate)}reset_progress(r){let e=this;if(r>=100){e.rand_progress_timer&&clearInterval(e.rand_progress_timer)&&(e.rand_progress_timer=null);setTimeout(function(){e.progress_el.remove()},1e3)}e.progress_num=r;e.progress_el.find(".yunj-elem-progress-bar").css({width:r+"%"})}}let t=r=>{r=yunj.objSupp(r,{elem:null,rand_progress:true,rand_progress_timer_rate:1e3});return new s(r)};r("elemProgress",t)});