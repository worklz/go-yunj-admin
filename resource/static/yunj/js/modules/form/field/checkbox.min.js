layui.define(["FormField","FormFieldActions","jquery","form"],function(e){let i=layui.FormField;let t=layui.FormFieldActions;let n=layui.jquery;let l=layui.form;class r extends i{constructor(e={}){super(e)}defineExtraArgs(){let e=this;return{options:{}}}handleArgs(e){if(e.verify.indexOf("arrayIn")===-1)e.verify+=(e.verify?"|":"")+`arrayIn:${Object.keys(e.options).join(",")}`;return e}layoutControl(){let i=this;let t="";let n=i.args.options;for(let e in n){t+=`<input type="checkbox" name="${i.id}" title="${n[e]}" value="${e}" lay-skin="primary" lay-filter="${i.id}" ${i.args.readonly?"disabled":""}>`}return`<div class="layui-input-inline yunj-form-item-control yunj-input-pane"><div class="show-box">${t}</div></div>`}renderDone(){let e=this;l.render("checkbox",e.tabFormFilter);e.fieldActions=new t({fieldObj:e,fieldValueElSelector:".show-box",actions:{contentClear:null}})}setValue(t=""){let n=this;if(yunj.isScalar(t)&&t)t=yunj.isJson(t)?JSON.parse(t):yunj.isString(t)&&t.indexOf(",")!==-1?t.split(","):[t];if(!yunj.isArray(t))t=[];n.boxEl.find(`input:checkbox[name=${n.id}]`).prop("checked",false);for(let e=0,i=t.length;e<i;e++){n.boxEl.find(`input:checkbox[name=${n.id}][value=${t[e]}]`).prop("checked",true)}l.render("checkbox",n.tabFormFilter)}getValue(){let e=this;let i=[];e.boxEl.find(`input:checkbox[name=${e.id}]:checked`).each(function(e){i.push(n(this).val())});return i.length>0?i:""}}e("FormFieldCheckbox",r)});